<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Casino</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0c0c1c, #1a1a3f);
      color: #fff;
      height: 100vh;
      overflow: hidden;
    }

    #loginScreen {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      flex-direction: column;
      padding: 20px;
    }

    #gameSection {
      display: none;
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 100vh;
      padding: 20px;
    }

    input[type="password"] {
      padding: 12px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      margin-bottom: 10px;
      text-align: center;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      font-weight: bold;
      border-radius: 8px;
      background-color: #ffc107;
      color: #000;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #ffb300;
      transform: scale(1.05);
    }

    .game-container {
      text-align: center;
    }

    canvas {
      border-radius: 50%;
      box-shadow: 0 0 60px rgba(0, 255, 255, 0.4);
    }

    .result {
      font-size: 24px;
      font-weight: bold;
      margin-top: 20px;
      color: #00ffcc;
      text-shadow: 0 0 10px #00ffcc;
    }

    .dice-wrapper {
      width: 100px;
      height: 100px;
      perspective: 800px;
      margin: 0 auto;
    }

    .dice {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 1s ease;
    }

    .face {
      position: absolute;
      width: 100px;
      height: 100px;
      background: white;
      border: 4px solid #222;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 36px;
      font-weight: bold;
      color: #000;
      box-shadow: 0 0 20px rgba(255,255,255,0.1);
    }

    .face:nth-child(1) { transform: rotateY(0deg) translateZ(50px); }
    .face:nth-child(2) { transform: rotateY(90deg) translateZ(50px); }
    .face:nth-child(3) { transform: rotateY(180deg) translateZ(50px); }
    .face:nth-child(4) { transform: rotateY(-90deg) translateZ(50px); }
    .face:nth-child(5) { transform: rotateX(90deg) translateZ(50px); }
    .face:nth-child(6) { transform: rotateX(-90deg) translateZ(50px); }
    .face:nth-child(7) { transform: rotateZ(90deg) translateZ(50px); }
    .face:nth-child(8) { transform: rotateZ(-90deg) translateZ(50px); }

    /* ‚úÖ MOBILE RESPONSIVE STYLES */
    @media (max-width: 768px) {
      #gameSection {
        flex-direction: column;
        height: auto;
        overflow-y: auto;
        padding-bottom: 40px;
      }

      .dice-wrapper, canvas {
        width: 80vw;
        height: 80vw;
        max-width: 300px;
        max-height: 300px;
      }

      input[type="password"], button {
        width: 80%;
        max-width: 300px;
      }

      .game-container {
        margin-bottom: 40px;
      }

      .result {
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <!-- LOGIN SCREEN -->
  <div id="loginScreen">
    <h2>üîê Admin Login</h2>
    <input type="password" id="passwordInput" placeholder="Enter password" />
    <button onclick="checkPassword()">Login</button>
    <p id="errorMsg" style="color:red;"></p>
  </div>

  <!-- GAMES SECTION -->
  <div id="gameSection">
    <!-- Dice Game -->
    <div class="game-container">
      <h2>üé≤ 3D Dice Game (1‚Äì8)</h2>
      <div class="dice-wrapper">
        <div class="dice" id="dice">
          <div class="face" id="face1">1</div>
          <div class="face" id="face2">2</div>
          <div class="face" id="face3">3</div>
          <div class="face" id="face4">4</div>
          <div class="face" id="face5">5</div>
          <div class="face" id="face6">6</div>
          <div class="face" id="face7">7</div>
          <div class="face" id="face8">8</div>
        </div>
      </div>
      <button onclick="rollDice()">Roll Dice</button>
      <div class="result" id="diceResult"></div>
    </div>

    <!-- Spin Game -->
    <div class="game-container">
      <h2>üé° Spin Game (0‚Äì35)</h2>
      <canvas id="wheel" width="300" height="300"></canvas>
      <br>
      <button onclick="spinWheel()">Spin</button>
      <div class="result" id="spinResult"></div>
    </div>
  </div>

  <script>
    // LOGIN CHECK
    function checkPassword() {
      const pwd = document.getElementById("passwordInput").value;
      if (pwd === "Darling") {
        document.getElementById("loginScreen").style.display = "none";
        document.getElementById("gameSection").style.display = "flex";
      } else {
        document.getElementById("errorMsg").innerText = "‚ùå Wrong password!";
      }
    }

    // SPIN GAME CODE
    const segments = Array.from({ length: 36 }, (_, i) => i);
    const wheel = document.getElementById("wheel");
    const ctx = wheel.getContext("2d");
    const colors = segments.map((_, i) => `hsl(${(i * 360) / segments.length}, 100%, 60%)`);
    let spinning = false;
    let currentAngle = 0;

    function drawWheel(highlightIndex = -1) {
      const radius = wheel.width / 2;
      const arcSize = (2 * Math.PI) / segments.length;
      for (let i = 0; i < segments.length; i++) {
        const startAngle = i * arcSize;
        const endAngle = startAngle + arcSize;

        ctx.beginPath();
        ctx.moveTo(radius, radius);
        ctx.arc(radius, radius, radius, startAngle, endAngle);
        ctx.fillStyle = colors[i];
        ctx.fill();
        ctx.strokeStyle = "#222";
        ctx.stroke();

        ctx.save();
        ctx.translate(radius, radius);
        ctx.rotate(startAngle + arcSize / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = highlightIndex === i ? "#fff" : "#000";
        ctx.font = highlightIndex === i ? "bold 16px sans-serif" : "bold 12px sans-serif";
        ctx.fillText(segments[i], radius - 10, 5);
        ctx.restore();

        if (highlightIndex === i) {
          ctx.beginPath();
          ctx.arc(radius, radius, radius - 2, startAngle, endAngle);
          ctx.strokeStyle = "gold";
          ctx.lineWidth = 4;
          ctx.stroke();
        }
      }
    }

    function spinWheel() {
      if (spinning) return;
      spinning = true;
      document.getElementById("spinResult").innerText = "";

      const arcSize = 360 / segments.length;
      const winnerIndex = Math.floor(Math.random() * segments.length);
      const winnerAngle = 360 - (winnerIndex * arcSize + arcSize / 2);
      const randomOffset = Math.floor(Math.random() * 360);
      const totalRotation = 360 * 10 + winnerAngle + randomOffset;

      const duration = 8000;
      const start = performance.now();

      function animate(now) {
        const elapsed = now - start;
        const progress = Math.min(elapsed / duration, 1);
        const eased = easeOutBounce(progress);
        currentAngle = (totalRotation * eased) % 360;

        ctx.clearRect(0, 0, wheel.width, wheel.height);
        ctx.save();
        ctx.translate(wheel.width / 2, wheel.height / 2);
        ctx.rotate((currentAngle * Math.PI) / 180);
        ctx.translate(-wheel.width / 2, -wheel.height / 2);
        drawWheel();
        ctx.restore();

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          spinning = false;
          showResult(currentAngle, randomOffset);
        }
      }

      requestAnimationFrame(animate);
    }

    function showResult(finalAngle, offset) {
      const arcSize = 360 / segments.length;
      let index = Math.floor((segments.length - ((finalAngle - offset + 360) % 360) / arcSize)) % segments.length;
      const winner = segments[index];
      document.getElementById("spinResult").innerText = `üéâ Spin Win: ${winner}`;
      ctx.clearRect(0, 0, wheel.width, wheel.height);
      ctx.save();
      ctx.translate(wheel.width / 2, wheel.height / 2);
      ctx.rotate((currentAngle * Math.PI) / 180);
      ctx.translate(-wheel.width / 2, -wheel.height / 2);
      drawWheel(index);
      ctx.restore();
    }

    function easeOutBounce(t) {
      const n1 = 7.5625, d1 = 2.75;
      if (t < 1 / d1) return n1 * t * t;
      if (t < 2 / d1) return n1 * (t -= 1.5 / d1) * t + 0.75;
      if (t < 2.5 / d1) return n1 * (t -= 2.25 / d1) * t + 0.9375;
      return n1 * (t -= 2.625 / d1) * t + 0.984375;
    }

    drawWheel();

    // DICE GAME CODE
    const dice = document.getElementById("dice");

    function rollDice() {
      const result = Math.floor(Math.random() * 8) + 1;
      document.getElementById("diceResult").innerText = '';

      for (let i = 1; i <= 8; i++) {
        document.getElementById(`face${i}`).innerText = '';
      }

      let rollCount = 0;
      const interval = setInterval(() => {
        const x = Math.floor(Math.random() * 360);
        const y = Math.floor(Math.random() * 360);
        const z = Math.floor(Math.random() * 360);
        dice.style.transform = `rotateX(${x}deg) rotateY(${y}deg) rotateZ(${z}deg)`;
        rollCount++;
        if (rollCount > 15) {
          clearInterval(interval);
          setTimeout(() => {
            showDiceFace(result);
            document.getElementById(`face${result}`).innerText = result;
            document.getElementById("diceResult").innerText = `üéØ Dice Win: ${result}`;
          }, 300);
        }
      }, 100);
    }

    function showDiceFace(face) {
      const rotations = {
        1: "rotateX(0deg) rotateY(0deg)",
        2: "rotateY(90deg)",
        3: "rotateY(180deg)",
        4: "rotateY(-90deg)",
        5: "rotateX(90deg)",
        6: "rotateX(-90deg)",
        7: "rotateZ(90deg)",
        8: "rotateZ(-90deg)"
      };
      dice.style.transform = rotations[face];
    }
  </script>
</body>
</html>
